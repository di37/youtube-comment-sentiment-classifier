schema: '2.0'
stages:
  data_ingestion:
    cmd: python data_handling/data_ingestion.py
    deps:
    - path: data_handling/data_ingestion.py
      hash: md5
      md5: 7ae739b584dd62f33b229c5df125699d
      size: 4992
    params:
      params.yaml:
        data_ingestion.random_state: 42
        data_ingestion.stratify_column: Sentiment
        data_ingestion.test_size: 0.2
        data_ingestion.val_size: 0.1
    outs:
    - path: data/raw
      hash: md5
      md5: 8d686b4920a555ad1c1a11d3d382c469.dir
      size: 6977034
      nfiles: 4
  data_preprocessing:
    cmd: python data_handling/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 0dd65fb2a5a19e79693e4979ca73c931
      size: 715919
    - path: data/raw/train.csv
      hash: md5
      md5: 721b862f935c485fc5538bfde0bfe468
      size: 2419681
    - path: data_handling/data_preprocessing.py
      hash: md5
      md5: 065e469080c1d859bbb5e40e6f86beb5
      size: 11140
    outs:
    - path: data/interim
      hash: md5
      md5: d6691fff0acc8bf7b102bd8bc7f77ea0.dir
      size: 2456128
      nfiles: 3
  model_building:
    cmd: python model_creation/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 933c203ae0f9e8b6cba484e2077ec2e6
      size: 1693585
    - path: model_creation/model_building.py
      hash: md5
      md5: 2259ea1c9f7229d8625fb5c08230bcd3
      size: 6248
    params:
      params.yaml:
        model_building.colsample_bytree: 0.543358
        model_building.learning_rate: 0.066816
        model_building.max_depth: 13
        model_building.min_child_samples: 78
        model_building.n_estimators: 939
        model_building.num_leaves: 113
        model_building.reg_alpha: 0.000106
        model_building.reg_lambda: 0.000346
        model_building.subsample: 0.706715
    outs:
    - path: lgbm_model.pkl
      hash: md5
      md5: 94bd982d646a2d87af7f32346893b6b1
      size: 8017654
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 576ffa6b727f055b342d45d3f3ca6d0a
      size: 384456
  model_evaluation:
    cmd: python model_creation/model_evaluation.py
    deps:
    - path: data/interim//test_processed.csv
      hash: md5
      md5: cccdf6b45d35d078dd13bbc6ca9d15c3
      size: 511954
    - path: data/interim//train_processed.csv
      hash: md5
      md5: 933c203ae0f9e8b6cba484e2077ec2e6
      size: 1693585
    - path: lgbm_model.pkl
      hash: md5
      md5: 94bd982d646a2d87af7f32346893b6b1
      size: 8017654
    - path: model_creation/model_evaluation.py
      hash: md5
      md5: ee343e2156f394fb968f64c738f2d488
      size: 9268
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 576ffa6b727f055b342d45d3f3ca6d0a
      size: 384456
    outs:
    - path: experiment_info.json
      hash: md5
      md5: b40eae9fe75c9020cfc1954af11701a4
      size: 84
  model_registry:
    cmd: python model_creation/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: b40eae9fe75c9020cfc1954af11701a4
      size: 84
    - path: model_creation/register_model.py
      hash: md5
      md5: 7e17cc1ef3881026e7bac62a476edde4
      size: 3891
